INCLUDE(CMakeForceCompiler)

SET(CMAKE_SYSTEM_NAME Generic-SWITCH)

SET(NX_TARGET_DEVKIT "NX-NXFP2-a32")

IF(NOT $ENV{NINTENDO_SDK_ROOT} EQUAL "")
	STRING(REGEX REPLACE "\\\\" "/" NX_SDK_DIR $ENV{NINTENDO_SDK_ROOT})
	
	CMAKE_FORCE_C_COMPILER("${NX_SDK_DIR}/Compilers/NX/nx/armv7l/bin/clang.exe" MSVC)
	SET(CMAKE_C_COMPILER_TARGET NX32)
	
	CMAKE_FORCE_CXX_COMPILER ("${NX_SDK_DIR}/Compilers/NX/nx/armv7l/bin/clang++.exe" MSVC)
	SET(CMAKE_CXX_COMPILER_TARGET NX32)
	
ELSE()
	MESSAGE("NINTENDO_SDK_ROOT environment variable not defined!")
ENDIF()


